# RDS

**RDSとは**

- 構築
  - APIでDBサーバを操作可能
  - 時間単位の従量課金
- 親和性
  - 6種類のエンジンをサポート
    - MySQL / PostgeSQL / SQL_server / Oracle / MariaDB / Aurora
- 運用
  - 可溶性向上のための機能
  - モニタリング、障害検知/復旧 バッチ、スケーリングが容易
- セキュリティ 
  - VPC、セキュリティグループ、暗号化に対応
 
- 必須機能が実装済み
  - バックアップ
    - 自動バックアップ
    - 手動バックアップ
  - 同期レプリケーション
  - 監視(CloudWatch)
  - 管理GUIやAPIで操作可能

- インスタンスクラスの選択
  - m4:標準インスタンス
  - r3はメモリを多めに搭載したインスタンス
  - t2:は小規模用インスタンス
  
**リードレプリカ(RR)**

- 読み取り専用のレプリカDB
  - 5台まで増設可能 (※ 上限緩和申請可能, Auroraは15台まで)
  - マルチAZとの組み合わせも可能
  - マスター昇格
  - RRのディスクタイプやインスタンスタイプをソースとは別のタイプに変更可能
 
- 想定ユースケース
  - 読み取りのスケーリング、BI等の解析処理の分散
  - マルチAZによる耐障害性の代替ではない
 
- 対応DBエンジン
  - MySQL
  - PostgreSQL
  - MariaDB

- MySQL / MariaDB / PostgreSQLの機能
  - クロスリージョンレプリケーション(リージョンをまたいだレプリケーション)
  - RRのカスケード
  - リードレプリカ側でのスナップショット実行
 
**スケールアップ機能** 

- マネージメントコンソールやAPIからスケールアップ可能
  - rebootを伴う
  - AWS-CLIからも可能
- スケールダウンも可能
  - 一時的に大きくして、その後戻す運用も可能
- インスタンスの変更でCPUとメモリだけでなく、ディスクIO帯域やネットワーク帯域が変更になる


**RDSで使用できるディスクボリュームタイプ**
 
- 標準(マグネティック) IOPS:無し IOリクエスト課金：あり
- General Purpose(GP2) SSD IOリクエスト課金：無し　　高性能 + バースト
- プロビジョンド IOPS(PIOPS) SSD IOリクエスト課金：無し　　高性能
 ※ 小さなインスタンスタイプではストレージと帯域不足で設定したIOPSに達しない場合がある
 
 



